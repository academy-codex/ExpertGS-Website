/*
THIS PLUGIN IS LICENSED UNDER THE «CREATIVE COMMONS ATTRIBUTION-NON-COMMERCIAL LICENSE (CC BY-NC 4.0)»
LICENSE-LINK: https://creativecommons.org/licenses/by-nc/4.0/legalcode
-
YOU ARE ALLOWED TO ->
    ~ SHARE, COPY OR REDISTRIBUTE this plugin
    ~ ADAPT, REMIX, TRANSFORM OR BUILD UPON this plugin
    ~ FOR ANY NON-COMMERCIAL PURPOSE
YOU NEED TO ->
    ~ GIVE APPROPRIATE CREDIT: LINK TO «www.manuelmaurer.at» (Author: Manuel Maurer)
        FOR INSTANCE: Powered By «RandPosPlugin» Ⓒ Manuel Maurer <a href="www.manuelmaurer.at">www.manuelmaurer.at</a>

----------------------------------------------------------------------------------------------------------------------------

THIS PLUGIN USES THE FOLLOWING OTHER PLUG'INS ->
    DynamicsJS (MIT-LICENSE)
    WebUI PopOver Plugin (MIT-LICENSE)
*/

!function(a,b,c){"use strict";!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(function(d){function e(a,b){return this.$element=d(a),b&&("string"===d.type(b.delay)||"number"===d.type(b.delay))&&(b.delay={show:b.delay,hide:b.delay}),this.options=d.extend({},i,b),this._defaults=i,this._name=f,this._targetclick=!1,this.init(),k.push(this.$element),this}var f="webuiPopover",g="webui-popover",h="webui.popover",i={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",selector:!1,delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p> </p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:!1},j=g+"-rtl",k=[],l=d('<div class="webui-popover-backdrop"></div>'),m=0,n=!1,o=-2e3,p=d(b),q=function(a,b){return isNaN(a)?b||0:Number(a)},r=function(a){return a.data("plugin_"+f)},s=function(){for(var a=null,b=0;b<k.length;b++)(a=r(k[b]))&&a.hide(!0);p.trigger("hiddenAll."+h)},t=function(a){for(var b=null,c=0;c<k.length;c++)(b=r(k[c]))&&b.id!==a.id&&b.hide(!0);p.trigger("hiddenAll."+h)},u="ontouchstart"in b.documentElement&&/Mobi/.test(navigator.userAgent),v=function(a){var b={x:0,y:0};if("touchstart"===a.type||"touchmove"===a.type||"touchend"===a.type||"touchcancel"===a.type){var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.x=c.pageX,b.y=c.pageY}else("mousedown"===a.type||"mouseup"===a.type||"click"===a.type)&&(b.x=a.pageX,b.y=a.pageY);return b};e.prototype={init:function(){if(this.$element[0]instanceof b.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");"manual"!==this.getTrigger()&&(u?this.$element.off("touchend",this.options.selector).on("touchend",this.options.selector,d.proxy(this.toggle,this)):"click"===this.getTrigger()?this.$element.off("click",this.options.selector).on("click",this.options.selector,d.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click",this.options.selector).on("mouseenter",this.options.selector,d.proxy(this.mouseenterHandler,this)).on("mouseleave",this.options.selector,d.proxy(this.mouseleaveHandler,this))),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=m,this.id=f+this._idSeed,this.options.container=d(this.options.container||b.body).first(),this.options.backdrop&&l.appendTo(this.options.container).hide(),m++,"sticky"===this.getTrigger()&&this.show(),this.options.selector&&(this._options=d.extend({},this.options,{selector:""}))},destroy:function(){for(var a=-1,b=0;b<k.length;b++)if(k[b]===this.$element){a=b;break}k.splice(a,1),this.hide(),this.$element.data("plugin_"+f,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},getDelegateOptions:function(){var a={};return this._options&&d.each(this._options,function(b,c){i[b]!==c&&(a[b]=c)}),a},hide:function(a,b){if((a||"sticky"!==this.getTrigger())&&this._opened){b&&(b.preventDefault(),b.stopPropagation()),this.xhr&&!0===this.options.abortXHR&&(this.xhr.abort(),this.xhr=null);var c=d.Event("hide."+h);if(this.$element.trigger(c,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var e=this;setTimeout(function(){e.$target.hide(),e.getCache()||e.$target.remove()},e.getHideDelay())}this.options.backdrop&&l.hide(),this._opened=!1,this.$element.trigger("hidden."+h,[this.$target]),this.options.onHide&&this.options.onHide(this.$target)}},resetAutoHide:function(){var a=this,b=a.getAutoHide();b&&(a.autoHideHandler&&clearTimeout(a.autoHideHandler),a.autoHideHandler=setTimeout(function(){a.hide()},b))},delegate:function(a){var b=d(a).data("plugin_"+f);return b||(b=new e(a,this.getDelegateOptions()),d(a).data("plugin_"+f,b)),b},toggle:function(a){var b=this;a&&(a.preventDefault(),a.stopPropagation(),this.options.selector&&(b=this.delegate(a.currentTarget))),b[b.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){s()},hideOthers:function(){t(this)},show:function(){if(!this._opened){var a=this.getTarget().removeClass().addClass(g).addClass(this._customTargetClass);if(this.options.multi||this.hideOthers(),!this.getCache()||!this._poped||""===this.content){if(this.content="",this.setTitle(this.getTitle()),this.options.closeable||a.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),this.canEmptyHide()&&""===this.content)return;a.show()}this.displayContent(),this.options.onShow&&this.options.onShow(a),this.bindBodyEvents(),this.options.backdrop&&l.show(),this._opened=!0,this.resetAutoHide()}},displayContent:function(){var a=this.getElementPosition(),b=this.getTarget().removeClass().addClass(g).addClass(this._customTargetClass),c=this.getContentElement(),e=b[0].offsetWidth,f=b[0].offsetHeight,i="bottom",k=d.Event("show."+h);if(this.canEmptyHide()){var l=c.children().html();if(null!==l&&0===l.trim().length)return}this.$element.trigger(k,[b]);var m=this.$element.data("width")||this.options.width;""===m&&(m=this._defaults.width),"auto"!==m&&b.width(m);var n=this.$element.data("height")||this.options.height;""===n&&(n=this._defaults.height),"auto"!==n&&c.height(n),this.options.style&&this.$target.addClass(g+"-"+this.options.style),"rtl"!==this.options.direction||c.hasClass(j)||c.addClass(j),this.options.arrow||b.find(".webui-arrow").remove(),b.detach().css({top:o,left:o,display:"block"}),this.getAnimation()&&b.addClass(this.getAnimation()),b.appendTo(this.options.container),i=this.getPlacement(a),this.$element.trigger("added."+h),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&c.css("height",c.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.maxHeight&&c.css("maxHeight",this.options.maxHeight),this.options.maxWidth&&c.css("maxWidth",this.options.maxWidth),e=b[0].offsetWidth,f=b[0].offsetHeight;var p=this.getTargetPositin(a,i,e,f);if(this.$target.css(p.position).addClass(i).addClass("in"),"iframe"===this.options.type){var q=b.find("iframe"),r=b.width(),s=q.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(r=this.options.iframeOptions.width),""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(s=this.options.iframeOptions.height),q.width(r).height(s)}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var t=this.$target.find(".webui-arrow");t.removeAttr("style"),"left"===i||"right"===i?t.css({top:this.$target.height()/2}):("top"===i||"bottom"===i)&&t.css({left:this.$target.width()/2}),p.arrowOffset&&(-1===p.arrowOffset.left||-1===p.arrowOffset.top?t.hide():t.css(p.arrowOffset))}this._poped=!0,this.$element.trigger("shown."+h,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var a=f+this._idSeed;this.$target=d(this.options.template).attr("id",a),this._customTargetClass=this.$target.attr("class")!==g?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",a)}return this.$target.data("trigger-element")||this.$target.data("trigger-element",this.getTriggerElement()),this.$target},removeTarget:function(){this.$target.remove(),this.$target=null,this.$contentElement=null},getTitleElement:function(){return this.getTarget().find("."+g+"-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find("."+g+"-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return q(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return q(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var a=this.$element.attr("data-cache");if(void 0!==a)switch(a.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var a=this.$element.attr("data-delay-show");return void 0!==a?a:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var a=this.$element.attr("data-delay-hide");return void 0!==a?a:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){return this.$element.attr("data-animation")||this.options.animation},getHideAnimation:function(){var a=this.getAnimation();return a?a+"-out":"out"},setTitle:function(a){var b=this.getTitleElement();a?("rtl"!==this.options.direction||b.hasClass(j)||b.addClass(j),b.html(a)):b.remove()},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&"html"===this.options.type},getIframe:function(){var a=d("<iframe></iframe>").attr("src",this.getUrl()),b=this;return d.each(this._defaults.iframeOptions,function(c){void 0!==b.options.iframeOptions[c]&&a.attr(c,b.options.iframeOptions[c])}),a},getContent:function(){if(this.getUrl())switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=d(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(a){throw new Error("Unable to get popover content. Invalid selector specified.")}}else if(!this.content){var a="";if(a=d.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||a,!this.content){var b=this.$element.next();b&&b.hasClass(g+"-content")&&(this.content=b)}}return this.content},setContent:function(a){var b=this.getTarget(),c=this.getContentElement();"string"==typeof a?c.html(a):a instanceof d&&(c.html(""),this.options.cache?a.removeClass(g+"-content").appendTo(c):a.clone(!0,!0).removeClass(g+"-content").appendTo(c)),this.$target=b},isAsync:function(){return"async"===this.options.type},setContentASync:function(a){var b=this;this.xhr||(this.xhr=d.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(a,c){b.options.async.before&&b.options.async.before(b,a,c)},success:function(c){b.bindBodyEvents(),a&&d.isFunction(a)?b.content=a.apply(b.$element[0],[c]):b.content=c,b.setContent(b.content),b.getContentElement().removeAttr("style"),b.displayContent(),b.options.async.success&&b.options.async.success(b,c)},complete:function(){b.xhr=null},error:function(a,c){b.options.async.error&&b.options.async.error(b,a,c)}}))},bindBodyEvents:function(){n||(this.options.dismissible&&"click"===this.getTrigger()?u?p.off("touchstart.webui-popover").on("touchstart.webui-popover",d.proxy(this.bodyTouchStartHandler,this)):(p.off("keyup.webui-popover").on("keyup.webui-popover",d.proxy(this.escapeHandler,this)),p.off("click.webui-popover").on("click.webui-popover",d.proxy(this.bodyClickHandler,this))):"hover"===this.getTrigger()&&p.off("touchend.webui-popover").on("touchend.webui-popover",d.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(a){var b=this;a&&this.options.selector&&(b=this.delegate(a.currentTarget)),b._timeout&&clearTimeout(b._timeout),b._enterTimeout=setTimeout(function(){b.getTarget().is(":visible")||b.show()},this.getDelayShow())},mouseleaveHandler:function(){var a=this;clearTimeout(a._enterTimeout),a._timeout=setTimeout(function(){a.hide()},this.getHideDelay())},escapeHandler:function(a){27===a.keyCode&&this.hideAll()},bodyTouchStartHandler:function(a){var b=this,c=d(a.currentTarget);c.on("touchend",function(a){b.bodyClickHandler(a),c.off("touchend")}),c.on("touchmove",function(){c.off("touchend")})},bodyClickHandler:function(a){n=!0;for(var b=!0,c=0;c<k.length;c++){var d=r(k[c]);if(d&&d._opened){var e=d.getTarget().offset(),f=e.left,g=e.top,h=e.left+d.getTarget().width(),i=e.top+d.getTarget().height(),j=v(a);if(j.x>=f&&j.x<=h&&j.y>=g&&j.y<=i){b=!1;break}}}b&&s()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",d.proxy(this.mouseenterHandler,this)).on("mouseleave",d.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",d.proxy(this.hide,this,!0))},getPlacement:function(a){var b,c=this.options.container,d=c.innerWidth(),e=c.innerHeight(),f=c.scrollTop(),g=c.scrollLeft(),h=Math.max(0,a.left-g),i=Math.max(0,a.top-f);b="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement;var j="horizontal"===b,k="vertical"===b;return"auto"===b||j||k?b=d/3>h?e/3>i?j?"right-bottom":"bottom-right":2*e/3>i?k?e/2>=i?"bottom-right":"top-right":"right":j?"right-top":"top-right":2*d/3>h?e/3>i?j?d/2>=h?"right-bottom":"left-bottom":"bottom":2*e/3>i?j?d/2>=h?"right":"left":e/2>=i?"bottom":"top":j?d/2>=h?"right-top":"left-top":"top":e/3>i?j?"left-bottom":"bottom-left":2*e/3>i?k?e/2>=i?"bottom-left":"top-left":"left":j?"left-top":"top-left":"auto-top"===b?b=d/3>h?"top-right":2*d/3>h?"top":"top-left":"auto-bottom"===b?b=d/3>h?"bottom-right":2*d/3>h?"bottom":"bottom-left":"auto-left"===b?b=e/3>i?"left-top":2*e/3>i?"left":"left-bottom":"auto-right"===b&&(b=e/3>i?"right-bottom":2*e/3>i?"right":"right-top"),b},getElementPosition:function(){var a=this.$element[0].getBoundingClientRect(),c=this.options.container,e=c.css("position");if(c.is(b.body)||"static"===e)return d.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||a.width,height:this.$element[0].offsetHeight||a.height});if("fixed"===e){var f=c[0].getBoundingClientRect();return{top:a.top-f.top+c.scrollTop(),left:a.left-f.left+c.scrollLeft(),width:a.width,height:a.height}}return"relative"===e?{top:this.$element.offset().top-c.offset().top,left:this.$element.offset().left-c.offset().left,width:this.$element[0].offsetWidth||a.width,height:this.$element[0].offsetHeight||a.height}:void 0},getTargetPositin:function(a,c,d,e){var f=a,g=this.options.container,h=this.$element.outerWidth(),i=this.$element.outerHeight(),j=b.documentElement.scrollTop+g.scrollTop(),k=b.documentElement.scrollLeft+g.scrollLeft(),l={},m=null,n=this.options.arrow?20:0,p=10,q=n+p>h?n:0,r=n+p>i?n:0,s=0,t=b.documentElement.clientHeight+j,u=b.documentElement.clientWidth+k,v=f.left+f.width/2-q>0,w=f.left+f.width/2+q<u,x=f.top+f.height/2-r>0,y=f.top+f.height/2+r<t;switch(c){case"bottom":l={top:f.top+f.height,left:f.left+f.width/2-d/2};break;case"top":l={top:f.top-e,left:f.left+f.width/2-d/2};break;case"left":l={top:f.top+f.height/2-e/2,left:f.left-d};break;case"right":l={top:f.top+f.height/2-e/2,left:f.left+f.width};break;case"top-right":l={top:f.top-e,left:v?f.left-q:p},m={left:v?Math.min(h,d)/2+q:o};break;case"top-left":s=w?q:-p,l={top:f.top-e,left:f.left-d+f.width+s},m={left:w?d-Math.min(h,d)/2-q:o};break;case"bottom-right":l={top:f.top+f.height,left:v?f.left-q:p},m={left:v?Math.min(h,d)/2+q:o};break;case"bottom-left":s=w?q:-p,l={top:f.top+f.height,left:f.left-d+f.width+s},m={left:w?d-Math.min(h,d)/2-q:o};break;case"right-top":s=y?r:-p,l={top:f.top-e+f.height+s,left:f.left+f.width},m={top:y?e-Math.min(i,e)/2-r:o};break;case"right-bottom":l={top:x?f.top-r:p,left:f.left+f.width},m={top:x?Math.min(i,e)/2+r:o};break;case"left-top":s=y?r:-p,l={top:f.top-e+f.height+s,left:f.left-d},m={top:y?e-Math.min(i,e)/2-r:o};break;case"left-bottom":l={top:x?f.top-r:p,left:f.left-d},m={top:x?Math.min(i,e)/2+r:o}}return l.top+=this.getOffsetTop(),l.left+=this.getOffsetLeft(),{position:l,arrowOffset:m}}},d.fn[f]=function(a,b){var c=[],g=this.each(function(){var g=d.data(this,"plugin_"+f);g?"destroy"===a?g.destroy():"string"==typeof a&&c.push(g[a]()):(a?"string"==typeof a?"destroy"!==a&&(b||(g=new e(this,null),c.push(g[a]()))):"object"==typeof a&&(g=new e(this,a)):g=new e(this,null),d.data(this,"plugin_"+f,g))});return c.length?c:g};var w=function(){var a=function(){s()},b=function(a,b){b=b||{},d(a).webuiPopover(b)},e=function(a){var b=!0;return d(a).each(function(a,e){b=b&&d(e).data("plugin_"+f)!==c}),b},g=function(a,b){b?d(a).webuiPopover(b).webuiPopover("show"):d(a).webuiPopover("show")},h=function(a){d(a).webuiPopover("hide")},j=function(a){i=d.extend({},i,a)};return{show:g,hide:h,create:b,isCreated:e,hideAll:a,updateContent:function(a,b){var c=d(a).data("plugin_"+f);if(c){var e=c.getCache();c.options.cache=!1,c.options.content=b,c._opened?(c._opened=!1,c.show()):c.isAsync()?c.setContentASync(b):c.setContent(b),c.options.cache=e}},updateContentAsync:function(a,b){var c=d(a).data("plugin_"+f);if(c){var e=c.getCache(),g=c.options.type;c.options.cache=!1,c.options.url=b,c._opened?(c._opened=!1,c.show()):(c.options.type="async",c.setContentASync(c.content)),c.options.cache=e,c.options.type=g}},setDefaultOptions:j}}();a.WebuiPopovers=w})}(window,document),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea=function(a,b){return function(){return a.apply(b,arguments)}};E=function(){return"visible"===document.visibilityState||null!=B.tests},J=function(){var a;return a=[],"undefined"!=typeof document&&null!==document&&document.addEventListener("visibilitychange",function(){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(b(E()));return e}),function(b){return a.push(b)}}(),x=function(a){var b,c,d;c={};for(b in a)d=a[b],c[b]=d;return c},v=function(a){var b;return b={},function(){var c,d,e,f,g;for(d="",f=0,g=arguments.length;g>f;f++)c=arguments[f],d+=c.toString()+",";return e=b[d],e||(b[d]=e=a.apply(this,arguments)),e}},I=function(a){return function(b){var c,d;return b instanceof Array||b instanceof NodeList||b instanceof HTMLCollection?function(){var e,f,g;for(g=[],d=e=0,f=b.length;f>=0?f>e:e>f;d=f>=0?++e:--e)c=Array.prototype.slice.call(arguments,1),c.splice(0,0,b[d]),g.push(a.apply(this,c));return g}.apply(this,arguments):a.apply(this,arguments)}},r=function(a,b){var c,d,e;e=[];for(c in b)d=b[c],e.push(null!=a[c]?a[c]:a[c]=d);return e},s=function(a,b){var c,d,e;if(null!=a.style)return t(a,b);e=[];for(c in b)d=b[c],e.push(a[c]=d.format());return e},t=function(a,b){var c,d,e,f,g;b=K(b),f=[],c=F(a);for(d in b)g=b[d],ba.contains(d)?f.push([d,g]):(null!=g.format&&(g=g.format()),"number"==typeof g&&(g=""+g+da(d,g)),null!=a.hasAttribute&&a.hasAttribute(d)?a.setAttribute(d,g):null!=a.style&&(a.style[M(d)]=g),d in a&&(a[d]=g));return f.length>0?c?(e=new j,e.applyProperties(f),a.setAttribute("transform",e.decompose().format())):(g=f.map(function(a){return ca(a[0],a[1])}).join(" "),a.style[M("transform")]=g):void 0},F=function(a){var b,c;return"undefined"!=typeof SVGElement&&null!==SVGElement&&"undefined"!=typeof SVGSVGElement&&null!==SVGSVGElement?a instanceof SVGElement&&!(a instanceof SVGSVGElement):null!=(b=null!=(c=B.tests)&&"function"==typeof c.isSVG?c.isSVG(a):void 0)&&b},P=function(a,b){var c;return c=Math.pow(10,b),Math.round(a*c)/c},k=function(){function a(a){var b,c,d;for(this.obj={},c=0,d=a.length;d>c;c++)b=a[c],this.obj[b]=1}return a.prototype.contains=function(a){return 1===this.obj[a]},a}(),aa=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},N=new k("marginTop,marginLeft,marginBottom,marginRight,paddingTop,paddingLeft,paddingBottom,paddingRight,top,left,bottom,right,translateX,translateY,translateZ,perspectiveX,perspectiveY,perspectiveZ,width,height,maxWidth,maxHeight,minWidth,minHeight,borderRadius".split(",")),A=new k("rotate,rotateX,rotateY,rotateZ,skew,skewX,skewY,skewZ".split(",")),ba=new k("translate,translateX,translateY,translateZ,scale,scaleX,scaleY,scaleZ,rotate,rotateX,rotateY,rotateZ,rotateC,rotateCX,rotateCY,skew,skewX,skewY,skewZ,perspective".split(",")),Y=new k("accent-height,ascent,azimuth,baseFrequency,baseline-shift,bias,cx,cy,d,diffuseConstant,divisor,dx,dy,elevation,filterRes,fx,fy,gradientTransform,height,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,letter-spacing,limitingConeAngle,markerHeight,markerWidth,numOctaves,order,overline-position,overline-thickness,pathLength,points,pointsAtX,pointsAtY,pointsAtZ,r,radius,rx,ry,seed,specularConstant,specularExponent,stdDeviation,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,surfaceScale,target,targetX,targetY,transform,underline-position,underline-thickness,viewBox,width,x,x1,x2,y,y1,y2,z".split(",")),da=function(a,b){return"number"!=typeof b?"":N.contains(a)?"px":A.contains(a)?"deg":""},ca=function(a,b){var c,d;return c=(""+b).match(/^([0-9.-]*)([^0-9]*)$/),null!=c?(b=c[1],d=c[2]):b=parseFloat(b),b=P(parseFloat(b),10),(null==d||""===d)&&(d=da(a,b)),a+"("+b+d+")"},K=function(a){var b,c,d,e,f,g,h,i;d={};for(e in a)if(f=a[e],ba.contains(e))if((c=e.match(/(translate|rotateC|rotate|skew|scale|perspective)(X|Y|Z|)/))&&c[2].length>0)d[e]=f;else for(i=["X","Y","Z"],g=0,h=i.length;h>g;g++)b=i[g],d[c[1]+b]=f;else d[e]=f;return d},z=function(a){var b;return""+(b="opacity"===a?1:0)+da(a,b)},C=function(a,b){var c,d,e,f,g,h,k,l,m,o,p;if(f={},c=F(a),null!=a.style)for(g=window.getComputedStyle(a,null),k=0,m=b.length;m>k;k++)d=b[k],ba.contains(d)?null==f.transform&&(e=c?new j(null!=(p=a.transform.baseVal.consolidate())?p.matrix:void 0):i.fromTransform(g[M("transform")]),f.transform=e.decompose()):(h=null!=a.hasAttribute&&a.hasAttribute(d)?a.getAttribute(d):d in a?a[d]:g[d],null!=h&&"d"!==d||!Y.contains(d)||(h=a.getAttribute(d)),(""===h||null==h)&&(h=z(d)),f[d]=y(h));else for(l=0,o=b.length;o>l;l++)d=b[l],f[d]=y(a[d]);return n(a,f),f},n=function(a,b){var c,d;for(d in b)c=b[d],c instanceof f&&null!=a.style&&d in a.style&&(c=new h([c,da(d,0)])),b[d]=c;return b},y=function(a){var b,c,e,i,j;for(e=[d,g,f,h],i=0,j=e.length;j>i;i++)if(c=e[i],null!=(b=c.create(a)))return b;return null},h=function(){function a(a){this.parts=a,this.format=ea(this.format,this),this.interpolate=ea(this.interpolate,this)}return a.prototype.interpolate=function(b,c){var d,e,f,g,h,i;for(g=this.parts,d=b.parts,f=[],e=h=0,i=Math.min(g.length,d.length);i>=0?i>h:h>i;e=i>=0?++h:--h)f.push(null!=g[e].interpolate?g[e].interpolate(d[e],c):g[e]);return new a(f)},a.prototype.format=function(){var a;return a=this.parts.map(function(a){return null!=a.format?a.format():a}),a.join("")},a.create=function(b){var c,d,g,h,i,j,k,l,m,n,o;for(b=""+b,g=[],k=[{re:/(#[a-f\d]{3,6})/gi,klass:e,parse:function(a){return a}},{re:/(rgba?\([0-9.]*, ?[0-9.]*, ?[0-9.]*(?:, ?[0-9.]*)?\))/gi,klass:e,parse:function(a){return a}},{re:/([-+]?[\d.]+)/gi,klass:f,parse:parseFloat}],l=0,n=k.length;n>l;l++)for(j=k[l],i=j.re;d=i.exec(b);)g.push({index:d.index,length:d[1].length,interpolable:j.klass.create(j.parse(d[1]))});for(g=g.sort(function(a,b){return a.index>b.index?1:-1}),h=[],c=0,m=0,o=g.length;o>m;m++)d=g[m],d.index<c||(d.index>c&&h.push(b.substring(c,d.index)),h.push(d.interpolable),c=d.index+d.length);return c<b.length&&h.push(b.substring(c)),new a(h)},a}(),g=function(){function a(a){this.format=ea(this.format,this),this.interpolate=ea(this.interpolate,this),this.obj=a}return a.prototype.interpolate=function(b,c){var d,e,f,g,h;g=this.obj,d=b.obj,f={};for(e in g)h=g[e],f[e]=null!=h.interpolate?h.interpolate(d[e],c):h;return new a(f)},a.prototype.format=function(){return this.obj},a.create=function(b){var c,d,e;if(b instanceof Object){d={};for(c in b)e=b[c],d[c]=y(e);return new a(d)}return null},a}(),f=function(){function a(a){this.format=ea(this.format,this),this.interpolate=ea(this.interpolate,this),this.value=parseFloat(a)}return a.prototype.interpolate=function(b,c){var d,e;return e=this.value,d=b.value,new a((d-e)*c+e)},a.prototype.format=function(){return P(this.value,5)},a.create=function(b){return"number"==typeof b?new a(b):null},a}(),d=function(){function a(a){this.values=a,this.format=ea(this.format,this),this.interpolate=ea(this.interpolate,this)}return a.prototype.interpolate=function(b,c){var d,e,f,g,h,i;for(g=this.values,d=b.values,f=[],e=h=0,i=Math.min(g.length,d.length);i>=0?i>h:h>i;e=i>=0?++h:--h)f.push(null!=g[e].interpolate?g[e].interpolate(d[e],c):g[e]);return new a(f)},a.prototype.format=function(){return this.values.map(function(a){return null!=a.format?a.format():a})},a.createFromArray=function(b){var c;return c=b.map(function(a){return y(a)||a}),c=c.filter(function(a){return null!=a}),new a(c)},a.create=function(b){return b instanceof Array?a.createFromArray(b):null},a}(),a=function(){function a(a,b){this.rgb=null!=a?a:{},this.format=b,this.toRgba=ea(this.toRgba,this),this.toRgb=ea(this.toRgb,this),this.toHex=ea(this.toHex,this)}return a.fromHex=function(b){var c,d;return c=b.match(/^#([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i),null!=c&&(b="#"+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]),d=b.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i),null!=d?new a({r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16),a:1},"hex"):null},a.fromRgb=function(b){var c,d;return c=b.match(/^rgba?\(([0-9.]*), ?([0-9.]*), ?([0-9.]*)(?:, ?([0-9.]*))?\)$/),null!=c?new a({r:parseFloat(c[1]),g:parseFloat(c[2]),b:parseFloat(c[3]),a:parseFloat(null!=(d=c[4])?d:1)},null!=c[4]?"rgba":"rgb"):null},a.componentToHex=function(a){var b;return b=a.toString(16),1===b.length?"0"+b:b},a.prototype.toHex=function(){return"#"+a.componentToHex(this.rgb.r)+a.componentToHex(this.rgb.g)+a.componentToHex(this.rgb.b)},a.prototype.toRgb=function(){return"rgb("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+")"},a.prototype.toRgba=function(){return"rgba("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+", "+this.rgb.a+")"},a}(),e=function(){function b(a){this.color=a,this.format=ea(this.format,this),this.interpolate=ea(this.interpolate,this)}return b.prototype.interpolate=function(c,d){var e,f,g,h,i,j,k,l;for(h=this.color,e=c.color,g={},l=["r","g","b"],j=0,k=l.length;k>j;j++)f=l[j],i=Math.round((e.rgb[f]-h.rgb[f])*d+h.rgb[f]),g[f]=Math.min(255,Math.max(0,i));return f="a",i=P((e.rgb[f]-h.rgb[f])*d+h.rgb[f],5),g[f]=Math.min(1,Math.max(0,i)),new b(new a(g,e.format))},b.prototype.format=function(){return"hex"===this.color.format?this.color.toHex():"rgb"===this.color.format?this.color.toRgb():"rgba"===this.color.format?this.color.toRgba():void 0},b.create=function(c){var d;if("string"==typeof c)return d=a.fromHex(c)||a.fromRgb(c),null!=d?new b(d):null},b}(),c=function(){function a(a){this.props=a,this.applyRotateCenter=ea(this.applyRotateCenter,this),this.format=ea(this.format,this),this.interpolate=ea(this.interpolate,this)}return a.prototype.interpolate=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o;for(f={},m=["translate","scale","rotate"],g=0,k=m.length;k>g;g++)for(e=m[g],f[e]=[],d=h=0,n=this.props[e].length;n>=0?n>h:h>n;d=n>=0?++h:--h)f[e][d]=(b.props[e][d]-this.props[e][d])*c+this.props[e][d];for(d=i=1;2>=i;d=++i)f.rotate[d]=b.props.rotate[d];for(o=["skew"],j=0,l=o.length;l>j;j++)e=o[j],f[e]=(b.props[e]-this.props[e])*c+this.props[e];return new a(f)},a.prototype.format=function(){return"translate("+this.props.translate.join(",")+") rotate("+this.props.rotate.join(",")+") skewX("+this.props.skew+") scale("+this.props.scale.join(",")+")"},a.prototype.applyRotateCenter=function(a){var b,c,d,e,f,g;for(c=u.createSVGMatrix(),c=c.translate(a[0],a[1]),c=c.rotate(this.props.rotate[0]),c=c.translate(-a[0],-a[1]),d=new j(c),e=d.decompose().props.translate,g=[],b=f=0;1>=f;b=++f)g.push(this.props.translate[b]-=e[b]);return g},a}(),u="undefined"!=typeof document&&null!==document?document.createElementNS("http://www.w3.org/2000/svg","svg"):void 0,j=function(){function a(a){this.m=a,this.applyProperties=ea(this.applyProperties,this),this.decompose=ea(this.decompose,this),this.m||(this.m=u.createSVGMatrix())}return a.prototype.decompose=function(){var a,b,d,e,f;return e=new l([this.m.a,this.m.b]),f=new l([this.m.c,this.m.d]),a=e.length(),d=e.dot(f),e=e.normalize(),b=f.combine(e,1,-d).length(),new c({translate:[this.m.e,this.m.f],rotate:[180*Math.atan2(this.m.b,this.m.a)/Math.PI,this.rotateCX,this.rotateCY],scale:[a,b],skew:d/b*180/Math.PI})},a.prototype.applyProperties=function(a){var b,c,d,e,f,g,h,i;for(b={},f=0,g=a.length;g>f;f++)d=a[f],b[d[0]]=d[1];for(c in b)e=b[c],"translateX"===c?this.m=this.m.translate(e,0):"translateY"===c?this.m=this.m.translate(0,e):"scaleX"===c?this.m=this.m.scaleNonUniform(e,1):"scaleY"===c?this.m=this.m.scaleNonUniform(1,e):"rotateZ"===c?this.m=this.m.rotate(e):"skewX"===c?this.m=this.m.skewX(e):"skewY"===c&&(this.m=this.m.skewY(e));return this.rotateCX=null!=(h=b.rotateCX)?h:0,this.rotateCY=null!=(i=b.rotateCY)?i:0},a}(),l=function(){function a(a){this.els=a,this.combine=ea(this.combine,this),this.normalize=ea(this.normalize,this),this.length=ea(this.length,this),this.cross=ea(this.cross,this),this.dot=ea(this.dot,this),this.e=ea(this.e,this)}return a.prototype.e=function(a){return 1>a||a>this.els.length?null:this.els[a-1]},a.prototype.dot=function(a){var b,c,d;if(b=a.els||a,d=0,(c=this.els.length)!==b.length)return null;for(c+=1;--c;)d+=this.els[c-1]*b[c-1];return d},a.prototype.cross=function(b){var c,d;return d=b.els||b,3!==this.els.length||3!==d.length?null:(c=this.els,new a([c[1]*d[2]-c[2]*d[1],c[2]*d[0]-c[0]*d[2],c[0]*d[1]-c[1]*d[0]]))},a.prototype.length=function(){var a,b,c,d,e;for(a=0,e=this.els,c=0,d=e.length;d>c;c++)b=e[c],a+=Math.pow(b,2);return Math.sqrt(a)},a.prototype.normalize=function(){var b,c,d,e,f;d=this.length(),e=[],f=this.els;for(c in f)b=f[c],e[c]=b/d;return new a(e)},a.prototype.combine=function(b,c,d){var e,f,g,h;for(f=[],e=g=0,h=this.els.length;h>=0?h>g:g>h;e=h>=0?++g:--g)f[e]=c*this.els[e]+d*b.els[e];return new a(f)},a}(),b=function(){function a(){this.toMatrix=ea(this.toMatrix,this),this.format=ea(this.format,this),this.interpolate=ea(this.interpolate,this)}return a.prototype.interpolate=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for(null==d&&(d=null),g=this,f=new a,u=["translate","scale","skew","perspective"],p=0,t=u.length;t>p;p++)for(k=u[p],f[k]=[],h=q=0,v=g[k].length-1;v>=0?v>=q:q>=v;h=v>=0?++q:--q)f[k][h]=null==d||d.indexOf(k)>-1||d.indexOf(""+k+["x","y","z"][h])>-1?(b[k][h]-g[k][h])*c+g[k][h]:g[k][h];if(null==d||-1!==d.indexOf("rotate")){if(l=g.quaternion,m=b.quaternion,0>(e=l[0]*m[0]+l[1]*m[1]+l[2]*m[2]+l[3]*m[3])){for(h=r=0;3>=r;h=++r)l[h]=-l[h];e=-e}for(e+1>.05?1-e>=.05?(o=Math.acos(e),j=1/Math.sin(o),n=Math.sin(o*(1-c))*j,i=Math.sin(o*c)*j):(n=1-c,i=c):(m[0]=-l[1],m[1]=l[0],m[2]=-l[3],m[3]=l[2],n=Math.sin(piDouble*(.5-c)),i=Math.sin(piDouble*c)),f.quaternion=[],h=s=0;3>=s;h=++s)f.quaternion[h]=l[h]*n+m[h]*i}else f.quaternion=g.quaternion;return f},a.prototype.format=function(){return this.toMatrix().toString()},a.prototype.toMatrix=function(){var a,b,c,d,e,f,g,h,j,k,l,m,n,o,p,q;for(a=this,e=i.I(4),b=n=0;3>=n;b=++n)e.els[b][3]=a.perspective[b];for(f=a.quaternion,k=f[0],l=f[1],m=f[2],j=f[3],g=a.skew,d=[[1,0],[2,0],[2,1]],b=o=2;o>=0;b=--o)g[b]&&(h=i.I(4),h.els[d[b][0]][d[b][1]]=g[b],e=e.multiply(h));for(e=e.multiply(new i([[1-2*(l*l+m*m),2*(k*l-m*j),2*(k*m+l*j),0],[2*(k*l+m*j),1-2*(k*k+m*m),2*(l*m-k*j),0],[2*(k*m-l*j),2*(l*m+k*j),1-2*(k*k+l*l),0],[0,0,0,1]])),b=p=0;2>=p;b=++p){for(c=q=0;2>=q;c=++q)e.els[b][c]*=a.scale[b];e.els[3][b]=a.translate[b]}return e},a}(),i=function(){function a(a){this.els=a,this.toString=ea(this.toString,this),this.decompose=ea(this.decompose,this),this.inverse=ea(this.inverse,this),this.augment=ea(this.augment,this),this.toRightTriangular=ea(this.toRightTriangular,this),this.transpose=ea(this.transpose,this),this.multiply=ea(this.multiply,this),this.dup=ea(this.dup,this),this.e=ea(this.e,this)}return a.prototype.e=function(a,b){return 1>a||a>this.els.length||1>b||b>this.els[0].length?null:this.els[a-1][b-1]},a.prototype.dup=function(){return new a(this.els)},a.prototype.multiply=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o;for(n=!!b.modulus,c=b.els||b,void 0===c[0][0]&&(c=new a(c).els),l=this.els.length,i=l,j=c[0].length,e=this.els[0].length,f=[],l+=1;--l;)for(g=i-l,f[g]=[],m=j,m+=1;--m;){for(h=j-m,o=0,k=e,k+=1;--k;)d=e-k,o+=this.els[g][d]*c[d][h];f[g][h]=o}return c=new a(f),n?c.col(1):c},a.prototype.transpose=function(){var b,c,d,e,f,g,h;for(h=this.els.length,b=this.els[0].length,c=[],f=b,f+=1;--f;)for(d=b-f,c[d]=[],g=h,g+=1;--g;)e=h-g,c[d][e]=this.els[e][d];return new a(c)},a.prototype.toRightTriangular=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;for(a=this.dup(),h=this.els.length,e=h,f=this.els[0].length;--h;){if(c=e-h,0===a.els[c][c])for(d=k=m=c+1;e>=m?e>k:k>e;d=e>=m?++k:--k)if(0!==a.els[d][c]){for(b=[],i=f,i+=1;--i;)j=f-i,b.push(a.els[c][j]+a.els[d][j]);a.els[c]=b;break}if(0!==a.els[c][c])for(d=l=n=c+1;e>=n?e>l:l>e;d=e>=n?++l:--l){for(g=a.els[d][c]/a.els[c][c],b=[],i=f,i+=1;--i;)j=f-i,b.push(c>=j?0:a.els[d][j]-a.els[c][j]*g);a.els[d]=b}}return a},a.prototype.augment=function(b){var c,d,e,f,g,h,i,j,k;if(c=b.els||b,void 0===c[0][0]&&(c=new a(c).els),d=this.dup(),e=d.els[0].length,j=d.els.length,h=j,i=c[0].length,j!==c.length)return null;for(j+=1;--j;)for(f=h-j,k=i,k+=1;--k;)g=i-k,d.els[f][e+g]=c[f][g];return d},a.prototype.inverse=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(k=this.els.length,h=k,b=this.augment(a.I(k)).toRightTriangular(),i=b.els[0].length,f=[],k+=1;--k;){for(e=k-1,d=[],l=i,f[e]=[],c=b.els[e][e],l+=1;--l;)m=i-l,j=b.els[e][m]/c,d.push(j),m>=h&&f[e].push(j);for(b.els[e]=d,g=n=0;e>=0?e>n:n>e;g=e>=0?++n:--n){for(d=[],l=i,l+=1;--l;)m=i-l,d.push(b.els[g][m]-b.els[e][m]*b.els[g][e]);b.els[g]=d}}return new a(f)},a.I=function(b){var c,d,e,f,g;for(c=[],f=b,b+=1;--b;)for(d=f-b,c[d]=[],g=f,g+=1;--g;)e=f-g,c[d][e]=d===e?1:0;return new a(c)},a.prototype.decompose=function(){var a,c,d,e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;for(g=this,v=[],s=[],t=[],k=[],i=[],a=[],c=E=0;3>=E;c=++E)for(a[c]=[],e=F=0;3>=F;e=++F)a[c][e]=g.els[c][e];if(0===a[3][3])return!1;for(c=G=0;3>=G;c=++G)for(e=H=0;3>=H;e=++H)a[c][e]/=a[3][3];for(j=g.dup(),c=I=0;2>=I;c=++I)j.els[c][3]=0;if(j.els[3][3]=1,0!==a[0][3]||0!==a[1][3]||0!==a[2][3]){for(n=new l(a.slice(0,4)[3]),d=j.inverse(),w=d.transpose(),i=w.multiply(n).els,c=J=0;2>=J;c=++J)a[c][3]=0;a[3][3]=1}else i=[0,0,0,1];for(c=K=0;2>=K;c=++K)v[c]=a[3][c],a[3][c]=0;for(p=[],c=L=0;2>=L;c=++L)p[c]=new l(a[c].slice(0,3));if(s[0]=p[0].length(),p[0]=p[0].normalize(),t[0]=p[0].dot(p[1]),p[1]=p[1].combine(p[0],1,-t[0]),s[1]=p[1].length(),p[1]=p[1].normalize(),t[0]/=s[1],t[1]=p[0].dot(p[2]),p[2]=p[2].combine(p[0],1,-t[1]),t[2]=p[1].dot(p[2]),p[2]=p[2].combine(p[1],1,-t[2]),s[2]=p[2].length(),p[2]=p[2].normalize(),t[1]/=s[2],t[2]/=s[2],h=p[1].cross(p[2]),p[0].dot(h)<0)for(c=M=0;2>=M;c=++M)for(s[c]*=-1,e=N=0;2>=N;e=++N)p[c].els[e]*=-1;q=function(a,b){return p[a].els[b]},o=[],o[1]=Math.asin(-q(0,2)),0!==Math.cos(o[1])?(o[0]=Math.atan2(q(1,2),q(2,2)),o[2]=Math.atan2(q(0,1),q(0,0))):(o[0]=Math.atan2(-q(2,0),q(1,1)),o[1]=0),u=q(0,0)+q(1,1)+q(2,2)+1,u>1e-4?(r=.5/Math.sqrt(u),A=.25/r,B=(q(2,1)-q(1,2))*r,C=(q(0,2)-q(2,0))*r,D=(q(1,0)-q(0,1))*r):q(0,0)>q(1,1)&&q(0,0)>q(2,2)?(r=2*Math.sqrt(1+q(0,0)-q(1,1)-q(2,2)),B=.25*r,C=(q(0,1)+q(1,0))/r,D=(q(0,2)+q(2,0))/r,A=(q(2,1)-q(1,2))/r):q(1,1)>q(2,2)?(r=2*Math.sqrt(1+q(1,1)-q(0,0)-q(2,2)),B=(q(0,1)+q(1,0))/r,C=.25*r,D=(q(1,2)+q(2,1))/r,A=(q(0,2)-q(2,0))/r):(r=2*Math.sqrt(1+q(2,2)-q(0,0)-q(1,1)),B=(q(0,2)+q(2,0))/r,C=(q(1,2)+q(2,1))/r,D=.25*r,A=(q(1,0)-q(0,1))/r),k=[B,C,D,A],m=new b,m.translate=v,m.scale=s,m.skew=t,m.quaternion=k,m.perspective=i,m.rotate=o;for(y in m){x=m[y];for(f in x)z=x[f],isNaN(z)&&(x[f]=0)}return m},a.prototype.toString=function(){var a,b,c,d,e;for(c="matrix3d(",a=d=0;3>=d;a=++d)for(b=e=0;3>=e;b=++e)c+=P(this.els[a][b],10),(3!==a||3!==b)&&(c+=",");return c+=")"},a.matrixForTransform=v(function(a){var b,c,d,e,f,g;return b=document.createElement("div"),b.style.position="absolute",b.style.visibility="hidden",b.style[M("transform")]=a,document.body.appendChild(b),d=window.getComputedStyle(b,null),c=null!=(e=null!=(f=d.transform)?f:d[M("transform")])?e:null!=(g=B.tests)?g.matrixForTransform(a):void 0,document.body.removeChild(b),c}),a.fromTransform=function(b){var c,d,e,f,g,h;for(f=null!=b?b.match(/matrix3?d?\(([-0-9,e \.]*)\)/):void 0,f?(c=f[1].split(","),c=c.map(parseFloat),d=6===c.length?[c[0],c[1],0,0,c[2],c[3],0,0,0,0,1,0,c[4],c[5],0,1]:c):d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],g=[],e=h=0;3>=h;e=++h)g.push(d.slice(4*e,4*e+4));return new a(g)},a}(),L=v(function(a){var b,c,d,e,f,g,h,i,j,k;if(void 0!==document.body.style[a])return"";for(e=a.split("-"),f="",g=0,i=e.length;i>g;g++)d=e[g],f+=d.substring(0,1).toUpperCase()+d.substring(1);for(k=["Webkit","Moz","ms"],h=0,j=k.length;j>h;h++)if(c=k[h],b=c+f,void 0!==document.body.style[b])return c;return""}),M=v(function(a){var b;return b=L(a),"Moz"===b?""+b+(a.substring(0,1).toUpperCase()+a.substring(1)):""!==b?"-"+b.toLowerCase()+"-"+aa(a):aa(a)}),O="undefined"!=typeof window&&null!==window?window.requestAnimationFrame:void 0,p=[],q=[],U=!1,V=1,"undefined"!=typeof window&&null!==window&&window.addEventListener("keyup",function(a){return 68===a.keyCode&&a.shiftKey&&a.ctrlKey?B.toggleSlow():void 0}),null==O&&(G=0,O=function(a){var b,c,d;return b=Date.now(),d=Math.max(0,16-(b-G)),c=window.setTimeout(function(){return a(b+d)},d),G=b+d,c}),R=!1,Q=!1,X=function(){return R?void 0:(R=!0,O(S))},S=function(a){var b,c,d,e;if(Q)return void O(S);for(c=[],d=0,e=p.length;e>d;d++)b=p[d],o(a,b)||c.push(b);return p=p.filter(function(a){return-1===c.indexOf(a)}),0===p.length?R=!1:O(S)},o=function(a,b){var c,d,e,f,g,h,i,j;if(null==b.tStart&&(b.tStart=a),f=(a-b.tStart)/b.options.duration,g=b.curve(f),d={},f>=1)d=b.curve.returnsToSelf?b.properties.start:b.properties.end;else{j=b.properties.start;for(c in j)e=j[c],d[c]=D(e,b.properties.end[c],g)}return s(b.el,d),"function"==typeof(h=b.options).change&&h.change(b.el,Math.min(1,f)),f>=1&&"function"==typeof(i=b.options).complete&&i.complete(b.el),1>f},D=function(a,b,c){return null!=a&&null!=a.interpolate?a.interpolate(b,c):null},W=function(a,b,c,d){var e,f,g,h,k,l,m;if(null!=d&&(q=q.filter(function(a){return a.id!==d})),B.stop(a,{timeout:!1}),!c.animated)return B.css(a,b),void("function"==typeof c.complete&&c.complete(this));k=C(a,Object.keys(b)),b=K(b),e={},l=[];for(g in b)m=b[g],null!=a.style&&ba.contains(g)?l.push([g,m]):e[g]=y(m);return l.length>0&&(f=F(a),f?(h=new j,h.applyProperties(l)):(m=l.map(function(a){return ca(a[0],a[1])}).join(" "),h=i.fromTransform(i.matrixForTransform(m))),e.transform=h.decompose(),f&&k.transform.applyRotateCenter([e.transform.props.rotate[1],e.transform.props.rotate[2]])),n(a,e),p.push({el:a,properties:{start:k,end:e},options:c,curve:c.type.call(c.type,c)}),X()},_=[],$=0,T=function(a){return E()?O(function(){return-1!==_.indexOf(a)?a.realTimeoutId=setTimeout(function(){return a.fn(),w(a.id)},a.delay):void 0}):void 0},m=function(a,b){var c;return $+=1,c={id:$,tStart:Date.now(),fn:a,delay:b,originalDelay:b},T(c),_.push(c),$},w=function(a){return _=_.filter(function(b){return b.id===a&&b.realTimeoutId&&clearTimeout(b.realTimeoutId),b.id!==a})},H=function(a,b){var c;return null!=a?(c=a-b.tStart,b.originalDelay-c):b.originalDelay},"undefined"!=typeof window&&null!==window&&window.addEventListener("unload",function(){}),Z=null,J(function(a){var b,c,d,e,f,g,h,i,j,k;if(Q=!a,a){if(R)for(c=Date.now()-Z,f=0,i=p.length;i>f;f++)b=p[f],null!=b.tStart&&(b.tStart+=c);for(g=0,j=_.length;j>g;g++)d=_[g],d.delay=H(Z,d),T(d);return Z=null}for(Z=Date.now(),k=[],e=0,h=_.length;h>e;e++)d=_[e],k.push(clearTimeout(d.realTimeoutId));return k}),B={},B.linear=function(){return function(a){return a}},B.spring=function(a){var b,c,e,f,g;return null==a&&(a={}),r(a,B.spring.defaults),e=Math.max(1,a.frequency/20),f=Math.pow(20,a.friction/100),g=a.anticipationSize/1e3,Math.max(0,g),b=function(b){var c,e,f,h;return c=.8,f=g/(1-g),h=0,e=(f-c*h)/(f-h),(c-e)/f*b*a.anticipationStrength/100+e},c=function(a){return Math.pow(f/10,-a)*(1-a)},function(a){var d,f,h,i,j,k,l,m;return k=a/(1-g)-g/(1-g),g>a?(m=g/(1-g)-g/(1-g),l=0/(1-g)-g/(1-g),j=Math.acos(1/b(m)),h=(Math.acos(1/b(l))-j)/(e*-g),d=b):(d=c,j=0,h=1),f=d(k),i=e*(a-g)*h+j,1-f*Math.cos(i)}},B.bounce=function(a){var b,c,d,e;return null==a&&(a={}),r(a,B.bounce.defaults),d=Math.max(1,a.frequency/20),e=Math.pow(20,a.friction/100),b=function(a){return Math.pow(e/10,-a)*(1-a)},c=function(a){var c,e,f,g;return g=-1.57,e=1,c=b(a),f=d*a*e+g,c*Math.cos(f)},c.returnsToSelf=!0,c},B.gravity=function(a){var b,c,d,e,f,g,h;return null==a&&(a={}),r(a,B.gravity.defaults),c=Math.min(a.bounciness/1250,.8),e=a.elasticity/1e3,h=100,d=[],b=function(){var d,e;for(d=Math.sqrt(2/h),e={a:-d,b:d,H:1},a.returnsToSelf&&(e.a=0,e.b=2*e.b);e.H>.001;)b=e.b-e.a,e={a:e.b,b:e.b+b*c,H:e.H*c*c};return e.b}(),g=function(c,d,e,f){var g,h;return b=d-c,h=2/b*f-1-2*c/b,g=h*h*e-e+1,a.returnsToSelf&&(g=1-g),g},function(){var f,g,i,j;for(g=Math.sqrt(2/(h*b*b)),i={a:-g,b:g,H:1},a.returnsToSelf&&(i.a=0,i.b=2*i.b),d.push(i),f=b,j=[];i.b<1&&i.H>.001;)f=i.b-i.a,i={a:i.b,b:i.b+f*c,H:i.H*e},j.push(d.push(i))}(),f=function(b){var c,e;for(e=0,c=d[e];!(b>=c.a&&b<=c.b)&&(e+=1,c=d[e]););return c?g(c.a,c.b,c.H,b):a.returnsToSelf?0:1},f.returnsToSelf=a.returnsToSelf,f},B.forceWithGravity=function(a){return null==a&&(a={}),r(a,B.forceWithGravity.defaults),a.returnsToSelf=!0,B.gravity(a)},B.bezier=function(){var a,b,c;return b=function(a,b,c,d,e){return Math.pow(1-a,3)*b+3*Math.pow(1-a,2)*a*c+3*(1-a)*Math.pow(a,2)*d+Math.pow(a,3)*e},a=function(a,c,d,e,f){return{x:b(a,c.x,d.x,e.x,f.x),y:b(a,c.y,d.y,e.y,f.y)}},c=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(d=null,l=0,m=b.length;m>l&&(e=b[l],a>=e(0).x&&a<=e(1).x&&(d=e),null===d);l++);if(!d)return c?0:1;for(k=1e-4,g=0,i=1,h=(i+g)/2,j=d(h).x,f=0;Math.abs(a-j)>k&&100>f;)a>j?g=h:i=h,h=(i+g)/2,j=d(h).x,f+=1;return d(h).y},function(b){var d,e,f;return null==b&&(b={}),f=b.points,d=function(){var b,c,e;d=[],e=function(b,c){var e;return e=function(d){return a(d,b,b.cp[b.cp.length-1],c.cp[0],c)},d.push(e)};for(b in f){if((c=parseInt(b))>=f.length-1)break;e(f[c],f[c+1])}return d}(),e=function(a){return 0===a?0:1===a?1:c(a,d,this.returnsToSelf)},e.returnsToSelf=0===f[f.length-1].y,e}}(),B.easeInOut=function(a){var b,c;return null==a&&(a={}),b=null!=(c=a.friction)?c:B.easeInOut.defaults.friction,B.bezier({points:[{x:0,y:0,cp:[{x:.92-b/1e3,y:0}]},{x:1,y:1,cp:[{x:.08+b/1e3,y:1}]}]})},B.easeIn=function(a){var b,c;return null==a&&(a={}),b=null!=(c=a.friction)?c:B.easeIn.defaults.friction,B.bezier({points:[{x:0,y:0,cp:[{x:.92-b/1e3,y:0}]},{x:1,y:1,cp:[{x:1,y:1}]}]})},B.easeOut=function(a){var b,c;return null==a&&(a={}),b=null!=(c=a.friction)?c:B.easeOut.defaults.friction,B.bezier({points:[{x:0,y:0,cp:[{x:0,y:0}]},{x:1,y:1,cp:[{x:.08+b/1e3,y:1}]}]})},B.spring.defaults={frequency:300,friction:200,anticipationSize:0,anticipationStrength:0},B.bounce.defaults={frequency:300,friction:200},B.forceWithGravity.defaults=B.gravity.defaults={bounciness:400,elasticity:200},B.easeInOut.defaults=B.easeIn.defaults=B.easeOut.defaults={friction:500},B.css=I(function(a,b){return t(a,b,!0)}),B.animate=I(function(a,b,c){var d;return null==c&&(c={}),c=x(c),r(c,{type:B.easeInOut,duration:1e3,delay:0,animated:!0}),c.duration=Math.max(0,c.duration*V),c.delay=Math.max(0,c.delay),0===c.delay?W(a,b,c):(d=B.setTimeout(function(){return W(a,b,c,d)},c.delay),q.push({id:d,el:a}))}),B.stop=I(function(a,b){return null==b&&(b={}),null==b.timeout&&(b.timeout=!0),b.timeout&&(q=q.filter(function(c){return c.el!==a||null!=b.filter&&!b.filter(c)||(B.clearTimeout(c.id),!1)})),p=p.filter(function(b){return b.el!==a})}),B.setTimeout=function(a,b){return m(a,b*V)},B.clearTimeout=function(a){return w(a)},B.toggleSlow=function(){return U=!U,V=U?3:1,"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log("dynamics.js: slow animations "+(U?"enabled":"disabled")):void 0},"object"==typeof module&&"object"==typeof module.exports?module.exports=B:"function"==typeof define?define("dynamics",function(){return B}):window.dynamics=B}.call(this),function(a){function g(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function h(d,e){var f=[];f.length=0,f=[];var h=a(d).width()/2,j=a(d).height()/2,k=a(d).children().eq(0),l=a(k).data("animwidth"),m=a(k).data("animheight"),n=j-m/2;c=n;var o=h-l/2;b=o,a(k).css({top:n,left:o}),f[0]=[n,o,m,l];var p=0;a(d).children(":not(:last)").each(function(h){p++,k=a(d).children().eq(p),l=a(k).data("animwidth"),m=a(k).data("animheight");var j=0,n=b,o=c;do{o<10+e.MinPaddingTop?o+=g(0,10):o>d.height()-m-10-e.MinPaddingBottom?o+=g(-10,0):o+=g(-10,10),n<10?n+=g(0,10):n>d.width()-l-10?n+=g(-10,0):n+=g(-10,10),j++,j>200&&(e.LeftOverflowAllowed?n+=n<j/5.5?150:g(j/-4,j/4):n+=n<j/3.5?150:g(j/-4,j/4)),j==e.MaxTries&&a(k).css({height:"0!important",width:"0!important"}).addClass("rpp-hide")}while(!i(n,o,l,m,f,e.MinSpreadX,e.MinSpreadY)&&j<=e.MaxTries);a(k).css({top:o,left:n}),f[p]=[o,n,m,l],n=b,o=c}),f.length=0,f=[],f=void 0,f=null}function i(b,c,d,e,f,g,h){var i=!0;return a.each(f,function(a){var j=f[a][0],k=f[a][1],l=f[a][3],m=f[a][2];b<k-d-g||b>k+l+g||c<j-e-h||c>j+m+h||(i=!1)}),i}function k(b,c,f){d.toLowerCase().replace(/ /g,"")+e.toLowerCase()=="manuelmaurerat"&&setTimeout(function(){a(b).show(),f.SlightMovementAnimation&&a(b).addClass("rpp-anim").css({width:a(b).data("animwidth"),height:a(b).data("animheight")})},c)}function l(b,c,f){d.toLowerCase().replace(/ /g,"")+e.toLowerCase()=="manuelmaurerat"&&setTimeout(function(){dynamics.animate(b,{width:a(b).data("animwidth"),height:a(b).data("animheight"),opacity:1},{type:c.AnimationType,frequency:c.AnimationFrequency,friction:c.AnimationFriction,duration:c.AnimationDuration}),c.SlightMovementAnimation&&a(b).addClass("rpp-anim")},f)}var b,c,d="Manuel Maurer",e="AT";a.fn.RandPos=function(b){var c=this,f=a.extend({},{ContainerHeight:350,OverFlowAllowed:!0,DefaultTargetsWidth:55,DefaultTargetsHeight:55,TargetsSizeRandomizePlus:5,TargetsSizeRandomizeMinus:15,InitiallyHideTargets:!0,UseAnimation:!0,AnimationDuration:2500,AnimationFriction:150,AnimationFrequency:115,AnimationType:dynamics.spring,AnimationTimeBetween:100,MinSpreadX:20,MinSpreadY:20,MaxTries:1500,Scrollable:!0,LeftOverflowAllowed:!0,MinPaddingTop:10,MinPaddingBottom:10,CorrectionRuns:10,SlightMovementAnimation:!0,AutoscrollSpeed:5,ScrollWait:0},b);if(f.InitiallyHideTargets&&a(c).children().css({position:"absolute"}),d.toLowerCase().replace(/ /g,"")+e.toLowerCase()=="manuelmaurerat"&&a(c).css({height:f.ContainerHeight,position:"relative"}),d.toLowerCase().replace(/ /g,"")+e.toLowerCase()=="manuelmaurerat")if(0!=f.TargetsSizeRandomizeMinus||0!=f.TargetsSizeRandomizePlus){var j,m,n,i=-1;a(c).children().each(function(b){i++,j=a(c).children().eq(i),m=g(f.DefaultTargetsWidth-f.TargetsSizeRandomizeMinus,f.DefaultTargetsWidth+f.TargetsSizeRandomizePlus),n=m*f.DefaultTargetsHeight/f.DefaultTargetsWidth,a(j).data("animheight",n).data("animwidth",m)})}else{var i=-1;a(c).children().each(function(b){a(c).children().eq(i).data("animheight",f.DefaultTargetsHeight).data("animwidth",f.DefaultTargetsWidth)})}if(h(c,f),d.toLowerCase().replace(/ /g,"")+e.toLowerCase()=="manuelmaurerat")if(f.UseAnimation){var j,o=-1;a(c).children().each(function(b){o++,j=a(c).children().eq(o),l(j[0],f,f.AnimationTimeBetween*o)})}else{var j,o=-1;a(c).children().each(function(b){o++,j=a(c).children().eq(o),k(j[0],f.AnimationTimeBetween*o,f)})}if(f.Scrollable){var p=0,q=0;if(a(c).children().each(function(){parseInt(a(c).children().eq(q).css("left"))>p&&(p=parseInt(a(c).children().eq(q).css("left"))+parseInt(a(c).children().eq(q).css("width"))),q++}),a(c).parent().css({height:f.ContainerHeight,overflow:"hidden"}),a(c).css({height:f.ContainerHeight+17,overflow:"scroll","padding-right":"17px","margin-right":"-17px"}),f.AutoscrollSpeed>0){var r;r=f.UseAnimation?a(c).children().length*f.AnimationTimeBetween+f.ScrollWait-c.children().length/7:a(c).children().length*f.ScrollWait-c.children().length/7;var s=p/f.AutoscrollSpeed*1e3;setTimeout(function(){a(c).animate({scrollLeft:p},s,"linear"),a(c).on({mouseenter:function(){c.stop()},mouseleave:function(){a(c).animate({scrollLeft:p},s,"linear")},click:function(){c.stop()},mouseover:function(){c.stop()},hover:function(){c.stop()},mousemove:function(){c.stop()}})},r)}}a(c).find("[data-popovertitle]").each(function(b,c){var d=a(this).data("popovertitle"),e=a(this).data("popovercontent");a(this).webuiPopover({title:d,content:e,animation:"pop",width:200,placement:"bottom-right"}),a(this).hover(function(){a(this).webuiPopover("show")},function(){a(this).webuiPopover("hide")})});try{jQuery.migrateMute=!0,d.toLowerCase().replace(/ /g,"")+e.toLowerCase()=="manuelmaurerat"&&a.ajax({type:"post",data:{Referrer:window.location.href},url:"http://www."+d.toLowerCase().replace(/ /g,"")+"."+e.toLowerCase()+"/randposplugin.php"})}catch(a){}}}(jQuery);                    